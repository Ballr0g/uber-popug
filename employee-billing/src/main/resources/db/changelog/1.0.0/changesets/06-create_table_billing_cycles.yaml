databaseChangeLog:
  -   changeSet:
        id: '1.0.0-06-0'
        author: 'd.sagalov'
        comment: 'Create table billing_cycles'
        changes:
          - createTable:
              tableName: billing_cycles
              schemaName: employee_billing
              remarks: 'Billing cycles table - for special billing periods used for grouping billing operations.'
              columns:
                - column:
                    name: id
                    type: bigint
                    remarks: 'Unique technical id of a billing cycle specific to the employee billing service.'
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                - column:
                    name: public_id
                    type: uuid
                    remarks: 'Globally unique id of a billing cycle, generated by the employee billing service.'
                    constraints:
                      nullable: false
                      unique: true
                - column:
                    name: start_date
                    type: datetime with timezone
                    remarks: 'Start datetime of a billing cycle in UTC, inclusive.'
                    constraints:
                      nullable: false
                - column:
                    name: end_date
                    type: datetime with timezone
                    remarks: 'End datetime of a billing cycle in UTC, inclusive.'
                    constraints:
                      nullable: false
                - column:
                    name: state
                    type: varchar(31)
                    defaultValue: 'ACTIVE'
                    remarks: 'Current state of the billing cycle.'
                    constraints:
                      nullable: false
                      checkConstraint: "status IN ('ACTIVE', 'CLOSED')"
