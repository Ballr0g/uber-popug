databaseChangeLog:
  -   changeSet:
        id: '1.0.0-04-0'
        author: 'd.sagalov'
        comment: 'Create table tasks'
        changes:
          - createTable:
              tableName: tasks
              remarks: 'The master table for storing tasks in the system.'
              columns:
                - column:
                    name: task_id
                    type: uuid
                    remarks: 'Unique id of a task, generated by task tracker system.'
                    constraints:
                      primaryKey: true
                - column:
                    name: assignee_id
                    type: uuid
                    remarks: 'Id of a user responsible for a task.'
                    constraints:
                      nullable: false
                      foreignKeyName: fk_user_entries_on_tasks
                      referencedTableName: users
                      referencedColumnNames: ext_user_id
                - column:
                    name: description
                    type: varchar(511)
                    remarks: 'Description of a task.'
                    constraints:
                      nullable: false
                - column:
                    name: status
                    type: varchar(31)
                    defaultValue: 'OPEN'
                    remarks: 'Current status of a task.'
                    constraints:
                      nullable: false
                      checkConstraint: "status IN ('OPEN', 'COMPLETED')"
